{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar initialState = {\n  id: 1,\n  User: {\n    id: 1,\n    userId: 'ian'\n  },\n  Order: [//     {\n    //     id: null,\n    //     title: null,\n    //     price: null,\n    //     quantity: 0\n    // }\n  ],\n  LoadOrderLoading: false,\n  LoadOrdertDone: false,\n  LoadOrderError: null\n};\nexport var ADD_CART_REQUEST = 'ADD_CART_REQUEST';\nexport var ADD_CART_SUCCEESS = 'ADD_CART_SUCCEESS';\nexport var ADD_CART_FAILURE = 'ADD_CART_FAILURE';\nexport var REMOVE_CART_REQUEST = 'REMOVE_CART_REQUEST';\nexport var REMOVE_CART_SUCCEESS = 'REMOVE_CART_SUCCEESS';\nexport var REMOVE_CART_FAILURE = 'REMOVE_CART_FAILURE';\nexport var REMOVE_ALL_CART_REQUEST = 'REMOVE_ALL_CART_REQUEST';\nexport var REMOVE_ALL_CART_SUCCEESS = 'REMOVE_ALL_CART_SUCCEESS';\nexport var REMOVE_ALL_CART_FAILURE = 'REMOVE_ALL_CART_FAILURE'; // export const addCart = (data) => {\n//     return{\n//         type: ADD_CART,\n//         data\n//     }\n// }\n\nexport var addCartAction = function addCartAction(data) {\n  return {\n    type: ADD_CART_REQUEST,\n    data: data\n  };\n};\nexport var removeCartAction = function removeCartAction(data) {\n  return {\n    type: REMOVE_CART_REQUEST,\n    data: data\n  };\n};\nexport var removeAllCartAction = function removeAllCartAction() {\n  return {\n    type: REMOVE_ALL_CART_REQUEST\n  };\n}; // const dummyProduct = {\n//     id: 2,\n//     title: \"Mens Casual Premium Slim Fit T-Shirts\",\n//     price: 22.3,\n//     image: \"https://fakestoreapi.com/img/71-3HjGNDUL._AC_SY879._SX._UX._SY._UY_.jpg\"\n// }\n// const remove = useCallback(\n//     (id) => {\n//         setOrders(orders => {\n//             return orders.filter(order => order.id !== id)\n//         })\n//     },\n//     [],\n// )\n// const removeAll = useCallback(() => {\n//     setOrders([]);\n// },[]);\n//Order = Order.filter(order => order.id !== action.data.id)\n\nvar reducer = function reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_CART_REQUEST:\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          LoadOrderLoading: true,\n          LoadOrdertDone: false\n        });\n      }\n\n    case ADD_CART_SUCCEESS:\n      {\n        console.log(action.data); // }\n\n        var found = state.Order.findIndex(function (order) {\n          return order.id === action.data.id;\n        });\n        console.log('found', found);\n\n        if (found === -1) {\n          return _objectSpread(_objectSpread({}, state), {}, {\n            Order: [action.data],\n            LoadOrderLoading: false,\n            LoadOrdertDone: true\n          });\n        } else {\n          var _console;\n\n          (_console = console).log.apply(_console, ['중복'].concat(_toConsumableArray(state.Order[found])));\n\n          var copy = _toConsumableArray(state.Order);\n\n          copy[found].quantity += action.data.quantity;\n          return _objectSpread(_objectSpread({}, state), {}, {\n            // ...state.Order[found].quantity++,\n            // Order: [...state.Order],\n            // Order: [...state.Order, { quantity: action.data.quantity}],\n            copy: copy,\n            LoadOrderLoading: false,\n            LoadOrdertDone: true\n          });\n        }\n      }\n\n    case REMOVE_CART_REQUEST:\n      {\n        return _objectSpread({}, state);\n      }\n\n    case REMOVE_CART_SUCCEESS:\n      {\n        var Order = _toConsumableArray(state.Order);\n\n        Order.filter(function (order) {\n          return order.id !== action.data;\n        });\n        console.log('remove', Order);\n        return _objectSpread(_objectSpread({}, state), {}, {\n          Order: Order.filter(function (order) {\n            return order.id !== action.data;\n          })\n        });\n      }\n\n    case REMOVE_ALL_CART_REQUEST:\n      {\n        return _objectSpread({}, state);\n      }\n\n    case REMOVE_ALL_CART_SUCCEESS:\n      {\n        var _console2;\n\n        (_console2 = console).log.apply(_console2, ['removeALLALL'].concat(_toConsumableArray(state.Order.splice(0))));\n\n        return _objectSpread(_objectSpread({}, state), {}, {\n          Order: []\n        });\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["C:/Users/ian07/Desktop/fake-shop/front/reducers/cart.js"],"names":["initialState","id","User","userId","Order","LoadOrderLoading","LoadOrdertDone","LoadOrderError","ADD_CART_REQUEST","ADD_CART_SUCCEESS","ADD_CART_FAILURE","REMOVE_CART_REQUEST","REMOVE_CART_SUCCEESS","REMOVE_CART_FAILURE","REMOVE_ALL_CART_REQUEST","REMOVE_ALL_CART_SUCCEESS","REMOVE_ALL_CART_FAILURE","addCartAction","data","type","removeCartAction","removeAllCartAction","reducer","state","action","console","log","found","findIndex","order","copy","quantity","filter","splice"],"mappings":"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","sourcesContent":["const initialState = {\r\n    id:1,\r\n    User:{\r\n        id: 1,\r\n        userId: 'ian'\r\n    },\r\n    Order:[\r\n    //     {\r\n    //     id: null,\r\n    //     title: null,\r\n    //     price: null,\r\n    //     quantity: 0\r\n    // }\r\n],\r\nLoadOrderLoading: false,\r\nLoadOrdertDone: false,\r\nLoadOrderError: null,\r\n}\r\n\r\nexport const ADD_CART_REQUEST = 'ADD_CART_REQUEST';\r\nexport const ADD_CART_SUCCEESS = 'ADD_CART_SUCCEESS';\r\nexport const ADD_CART_FAILURE = 'ADD_CART_FAILURE';\r\n\r\nexport const REMOVE_CART_REQUEST = 'REMOVE_CART_REQUEST';\r\nexport const REMOVE_CART_SUCCEESS = 'REMOVE_CART_SUCCEESS';\r\nexport const REMOVE_CART_FAILURE = 'REMOVE_CART_FAILURE';\r\n\r\nexport const REMOVE_ALL_CART_REQUEST = 'REMOVE_ALL_CART_REQUEST';\r\nexport const REMOVE_ALL_CART_SUCCEESS = 'REMOVE_ALL_CART_SUCCEESS';\r\nexport const REMOVE_ALL_CART_FAILURE = 'REMOVE_ALL_CART_FAILURE';\r\n\r\n\r\n// export const addCart = (data) => {\r\n//     return{\r\n//         type: ADD_CART,\r\n//         data\r\n//     }\r\n// }\r\nexport const addCartAction = (data) => {\r\nreturn{\r\ntype: ADD_CART_REQUEST,\r\ndata\r\n}\r\n}\r\n\r\nexport const removeCartAction = (data) => {\r\nreturn{\r\ntype: REMOVE_CART_REQUEST,\r\ndata\r\n}\r\n}\r\n\r\nexport const removeAllCartAction = () => {\r\nreturn{\r\ntype: REMOVE_ALL_CART_REQUEST\r\n}\r\n}\r\n\r\n// const dummyProduct = {\r\n//     id: 2,\r\n//     title: \"Mens Casual Premium Slim Fit T-Shirts\",\r\n//     price: 22.3,\r\n//     image: \"https://fakestoreapi.com/img/71-3HjGNDUL._AC_SY879._SX._UX._SY._UY_.jpg\"\r\n// }\r\n// const remove = useCallback(\r\n//     (id) => {\r\n//         setOrders(orders => {\r\n//             return orders.filter(order => order.id !== id)\r\n//         })\r\n//     },\r\n//     [],\r\n// )\r\n// const removeAll = useCallback(() => {\r\n//     setOrders([]);\r\n// },[]);\r\n\r\n//Order = Order.filter(order => order.id !== action.data.id)\r\n\r\n\r\nconst reducer = (state = initialState, action) => {\r\nswitch(action.type){\r\ncase ADD_CART_REQUEST:{\r\n   \r\n    return{\r\n        ...state,\r\n        LoadOrderLoading: true,\r\n        LoadOrdertDone: false,\r\n    }\r\n}\r\ncase ADD_CART_SUCCEESS:{\r\n    console.log(action.data);\r\n    // }\r\n    let found = state.Order.findIndex((order) => order.id === action.data.id);\r\n    console.log('found',found);\r\n    if(found === -1){\r\n\r\n        return{\r\n            ...state,\r\n            Order: [action.data],\r\n            LoadOrderLoading: false,\r\n            LoadOrdertDone: true\r\n        }\r\n    }else{\r\n        console.log('중복', ...state.Order[found], )\r\n        let copy = [...state.Order]\r\n        copy[found].quantity+= action.data.quantity\r\n        return{\r\n            ...state,\r\n            // ...state.Order[found].quantity++,\r\n            // Order: [...state.Order],\r\n            // Order: [...state.Order, { quantity: action.data.quantity}],\r\n            copy,\r\n            LoadOrderLoading: false,\r\n            LoadOrdertDone: true\r\n        }\r\n    }\r\n}\r\ncase REMOVE_CART_REQUEST:{\r\n    return{\r\n        ...state\r\n    }\r\n}\r\n\r\ncase REMOVE_CART_SUCCEESS:{\r\n    let Order = [...state.Order];\r\n    Order.filter(order => order.id !== action.data);\r\n    console.log('remove',Order);\r\n    return{\r\n        ...state,\r\n        Order:Order.filter(order => order.id !== action.data)\r\n    }\r\n}\r\n\r\ncase REMOVE_ALL_CART_REQUEST:{\r\n    return{\r\n        ...state\r\n    }\r\n}\r\ncase REMOVE_ALL_CART_SUCCEESS:{\r\n    console.log('removeALLALL',...state.Order.splice(0));\r\n    return{\r\n        ...state,\r\n        Order: [],\r\n    }\r\n}\r\ndefault:\r\n    return state;\r\n}\r\n};\r\n\r\nexport default reducer;"]},"metadata":{},"sourceType":"module"}